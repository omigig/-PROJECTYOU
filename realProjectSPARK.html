
<html>
	<head>
	<title>#ProjectSPARK</title>
	<div style="position: fixed; z-index: -99; width: 0%; height: 0%">
		  <iframe frameborder="0" height="0%" width="0%" 
		    src="https://youtube.com/embed/47mLY8vX3L0?autoplay=1&controls=0&showinfo=0&autohide=1">
		  </iframe>
	</div>
	<style>
			#header-container
			{
				margin-left: 75px;
				margin-top: 100px;
				margin-right: 90px;
				float: left;
				font-size: 45;
				font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif;
				color: #5889ba;
			}
			#description
			{
				font-size: 18;
				font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif;
				color: #B7C3D0;
			}
			#info
			{
				font-size: 10;
				font-family: Century Gothic,CenturyGothic,AppleGothic,sans-serif;
				color: #669999;
				color: #B7C3D0;
			}
	</style>
	<script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
	<script type="text/processing" data-processing-target="mycanvas">

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ TESTER CODE A ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    /*@pjs preload="hey.jpg";*/
	var sparky;

	var frontScroller;
	var middleScroller;
	var backScroller;
	var time;
	PImage bg;

	void setup()
	{
		size(500,600);
		bg = loadImage("hey.jpg");
		sparky = new Spark();

			frontScroller = new Scroller(800,200,5,4,[#5C3D1F]);

			middleScroller = new Scroller(800,200,6,5,[#3D2914]);
			backScroller = new Scroller(800,200,2,5,[#757547]);
			leftScroller = new Scroller(800,200,5,6,[#ACACA8]);
			rightScroller = new Scroller(800,200,5,6,[#5C5C33]);
			kikiScroller = new Scroller(800,200, 3,7,[#663300]);
			gigiScroller = new Scroller(800,200,5,8,[#9A7A19]);
			timayaScroller = new Scroller(800,200,3,10,[#4C4C2E]);
			emmaScroller = new Scroller(800,200,2,12,[#565654]);

		time = 0;
		PFont fontA = loadFont("CenturyGothic-48.vlw");
	}

	void mouseClicked()
	{
		if((sparky.v1 < 20) && (sparky.v2 < 20))
			setup();
	};

	void draw()
	{
		background(bg);
		sparky.drawSpark();
		backScroller.drawObScrollers();
		backScroller.moveObScrollers();
			
		if (time >= 5)
		{
			middleScroller.drawObScrollers();
			middleScroller.moveObScrollers();
		}
		if(time>= 10)
		{
			frontScroller.drawObScrollers();
			frontScroller.moveObScrollers();
		}
		if(time>= 15)
		{
			leftScroller.drawObScrollers();
			leftScroller.moveObScrollers();
		}
		if(time>= 20)
		{
			rightScroller.drawObScrollers();
			rightScroller.moveObScrollers();
		}
		if (time>= 25)
		{
			kikiScroller.drawObScrollers();
			kikiScroller.moveObScrollers();
		}
		if (time>= 30)
		{
			gigiScroller.drawObScrollers();
			gigiScroller.moveObScrollers();
		}
		if (time>= 35)
		{
			timayaScroller.drawObScrollers();
			timayaScroller.moveObScrollers();
		}
		if (time>= 40)
		{
			emmaScroller.drawObScrollers();
			emmaScroller.moveObScrollers();
		}

		PFont fontA = loadFont("CenturyGothic-48.vlw");

		if((sparky.v1 < 20) && (sparky.v2 < 20))
		{
			background(0,0,0);
			textFont(fontA, 18);
			int x = 30;
			fill(255);
			text("Some obstacles in life cannot be avoided.\n\n\nAt first, they come and we can manage them.\nSoon, however, they can quickly pile on.\n\n\nWhile a Spark will always end in ashes, it can reignite.\nYou cannot do the same.\n\n\nBut the hardships we endure do not need make us softer.\nThe strongest swords are forged with the harshest flames.\n\n\nYou are irreplaceable. Don't give up.\n\n\n\nPLAY AGAIN? CLICK THE SCREEN", x , 60);
		}
	
		for (var i = 0; i < backScroller.obstacles.length; i++)
		{
			if(backScroller.obstacles[i].hitChangeCheck())
				sparky.makeDarker();
		}
		for (var i = 0; i < middleScroller.obstacles.length; i++)
		{
			if(middleScroller.obstacles[i].hitChangeCheck())
				sparky.makeDarker();
		}
		for (var i = 0; i < frontScroller.obstacles.length; i++)
		{
			if(frontScroller.obstacles[i].hitChangeCheck())
				sparky.makeDarker();
		}
		for (var i = 0; i < leftScroller.obstacles.length; i++)
		{
			if(leftScroller.obstacles[i].hitChangeCheck())
				sparky.makeDarker();
		}
		for (var i = 0; i < rightScroller.obstacles.length; i++)
		{
			if(rightScroller.obstacles[i].hitChangeCheck())
				sparky.makeDarker();
		}
		for (var i = 0; i < kikiScroller.obstacles.length; i++)
		{
			if(kikiScroller.obstacles[i].hitChangeCheck())
				sparky.makeDarker();
		}
		for (var i = 0; i < gigiScroller.obstacles.length; i++)
		{
			if(gigiScroller.obstacles[i].hitChangeCheck())
				sparky.makeDarker();
		}
		for (var i = 0; i < timayaScroller.obstacles.length; i++)
		{
			if(timayaScroller.obstacles[i].hitChangeCheck())
				sparky.makeDarker();
		}
		for (var i = 0; i < emmaScroller.obstacles.length; i++)
		{
			if(emmaScroller.obstacles[i].hitChangeCheck())
				sparky.makeDarker();
		}

		time+= 0.1;
	}
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ OBJECT CODE FOR SPARK ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
	class Spark
	{
		var xPosition;
		var yPosition;
		var v1;
		var v2;
		var empty;
			
		Spark()
		{
			xPosition = mouseX;
			yPosition = 300;
			v1 = 255;
			v2 = 153;
			empty = 0;
		}

		void drawSpark()
		{
			noStroke;
			xPosition = mouseX;
			//Dimensions of Spark: 
			fill(v1, v1, empty);
			triangle(xPosition, yPosition + 100, xPosition + 40, yPosition + 60, xPosition + 50, yPosition + 100);
			fill(v1, v2, empty);
	        triangle(xPosition, yPosition + 100, xPosition + 30, yPosition + 50, xPosition + 40, yPosition + 100);
	        fill(v1, empty, empty);	
	        triangle(xPosition, yPosition + 100, xPosition + 20, yPosition + 40, xPosition + 30, yPosition + 100);
		}

		void makeDarker()
		{
			v1 -= 10;
			v2 -= 10;
		}
	}
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++


//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ OBSTACLES + SCROLLER OBJECT CODE +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
		class Obstacle
		{
			var xPosition;
			var yPosition;
			var height;
			var width;
			var r;
			var g;
			var b;
			
			Obstacle(oW, oH, color, x, y)
			{
				xPosition = x;
				yPosition = 600;
				r = color[0];
				g = color[1];
				b = color[2];
				width = 80;
				height = 40;
			}

			void drawObstacle()
			{
				noStroke();
				fill(r,g,b);
				ellipse(xPosition, yPosition, width, height);
			}
			
			void move(speed)
			{
				yPosition -= speed;
			}

			boolean hitChangeCheck()
			{
				//CHECK A: WHEN SPARK RUNS INTO THE OBSTACLE ----- "If Spark.xPosition == Obstacle.xPosition"
				if((xPosition >= sparky.xPosition) && (xPosition <= sparky.xPosition + 25))
				{
					//If colorVal > 0, meaning, if the colors aren't already black...
					if((yPosition <= sparky.yPosition) && (yPosition >= sparky.yPosition - 25))
					{
						//CHECK B: If neither red/green values are in the black threshhold...
						if(!(sparky.v1 < 20) || !(sparky.v2 < 20))
							return true;
						else if((sparky.v1 < 20) && (sparky.v2 < 20))//Failed CHECK B: return FALSE
							return false;
					}
				}
				return false;
			}
		}

		class Scroller
		{
			var lWidth;
			var lHeight; 
			var basePosition; 
			var speed;
			var r;
			var g;
			var b;
			var scrollEndX = 0;
			var obstacles = new Array();
			
			Scroller(w, h, b, scrollSpeed, color)
			{
				lWidth = w;
				lHeight = h;
				basePosition = b;
				speed = scrollSpeed;
				r = color[0];
				g = color[1];
				b = color[2];
				
				currentWidth = 0;
				while(currentWidth <= lWidth)
				{
					var obW = Math.floor(Math.random() * ((lHeight*1.5) - (lHeight/2)+1) + (lHeight/2));
					var maxHeight = basePosition - lHeight;
					var obH = (Math.floor(Math.random() * (maxHeight - ((maxHeight/4)+1))) + (maxHeight/4));
					obstacles.push(new Obstacle(obW, obH, [r,g,b], currentWidth, basePosition - obH));
					currentWidth += obW;
				}
				scrollEndX = currentWidth;
			}
			
			void drawObScrollers()
			{
				for(var i = 0; i < obstacles.length; i++)
				{
					obstacles[i].drawObstacle();
				}
			}

			void moveObScrollers()
			{
				for(var i = 0; i < obstacles.length; i++)
				{
					obstacles[i].move(speed);
				}

				scrollEndX -= speed;

				if(scrollEndX <= 190)
				{
					addObstacles(scrollEndX);
				}
			}

			void addObstacles(xLocation)
			{
				var obW = Math.floor(Math.random() * ((lHeight*1.5) - (lHeight/2)+1) + (lHeight/2));//no building should be wider than a quarter of the width or shorter than a 20th
				var maxHeight = basePosition - lHeight;
				var obH = (Math.floor(Math.random() * (maxHeight - ((maxHeight/4)+1))) + (maxHeight/4));
				obstacles.push(new Obstacle(obW,obH,[r,g,b],Math.floor(Math.random()*770),0));
				scrollEndX += obW;
			}
		}
			//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
			</script>
	</head>

	<body>
		<body background = "night.jpg" onclick = "changeMonScreens()">
		<div id = "header-container">
			<center>
				#ProjectSPARK
			</center>
				<div id = "description">
					<br></br>
					<br>#ProjectSPARK is game designed to reflect concepts of life.</br>
					<br></br>
					<br>To play, you'll first need to click through the introduction.</br>
					<br>Continue until given further instructions.<br></br>
				</div>
			<center>
				<div id = "info">
					<br></br>
					<br>Created by Giana Moreno, Emma Liu, Gabriella Rodriquez, and Timaya Johnson (Team GEGT)</br>
					<br>Girls Who Code Summer Immersion Program @GE 2015</br>
					<br></br>
					<br>Background Audio: "Pan's Labyrinth" - </br>
					<br>	https://youtube.com/embed/47mLY8vX3L0?autoplay=1&controls=0&showinfo=0&autohide=1</br>
					<br>Background Image: http://i.imgur.com/VKfKY.jpg</br>
				</div>
			</center>
		</div>
		</div>

		<!-- ADD FOOTER & CREDITS LATER -->
	
	</body>
			<canvas id="mycanvas"></canvas>
	</body>
</html>
